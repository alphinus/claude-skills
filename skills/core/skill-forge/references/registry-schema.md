# Registry Schema Documentation

The central skill registry lives at `~/claude-skills/registry.json`.

## Location

```
~/claude-skills/registry.json
```

## Generation

The registry is auto-generated by:

```bash
~/claude-skills/scripts/update-registry.sh
```

This script walks `skills/*/*/SKILL.md`, parses frontmatter, and writes `registry.json`.

**Do not edit registry.json manually.** Always use `update-registry.sh`.

## Schema

```json
{
  "version": "1.0.0",
  "updated": "<ISO 8601 timestamp>",
  "brands": {
    "<brand-name>": {
      "displayName": "<Human-readable brand name>",
      "domain": "<brand domain or null>",
      "skillCount": "<number of skills>"
    }
  },
  "skills": [
    {
      "name": "<brand>:<slug>",
      "brand": "<brand-name>",
      "slug": "<skill-slug>",
      "path": "skills/<brand>/<slug>",
      "type": "<built|authored>",
      "description": "<skill description from frontmatter>",
      "tags": ["<auto-detected from subdirectories>"]
    }
  ]
}
```

## Field Reference

### Top-level

| Field | Type | Description |
|-------|------|-------------|
| `version` | string | Schema version (semver) |
| `updated` | string | ISO 8601 UTC timestamp of last generation |
| `brands` | object | Map of brand namespace to brand metadata |
| `skills` | array | List of all registered skills |

### Brand Object

| Field | Type | Description |
|-------|------|-------------|
| `displayName` | string | Human-readable brand name (capitalized) |
| `domain` | string/null | Brand's web domain, or null for `core` |
| `skillCount` | number | Number of skills in this namespace |

### Skill Object

| Field | Type | Description |
|-------|------|-------------|
| `name` | string | Fully qualified name (`brand:slug`) |
| `brand` | string | Brand namespace |
| `slug` | string | Skill slug (kebab-case) |
| `path` | string | Repo-relative path to skill directory |
| `type` | string | `built` (from build.sh) or `authored` (manual) |
| `description` | string | From SKILL.md frontmatter (max 200 chars) |
| `tags` | array | Auto-detected from subdirectories present |

## Skill Types

| Type | Meaning | Example |
|------|---------|---------|
| `built` | Generated by `build.sh` from `core/` templates + `brands/` tokens | `eluma:brand-system` |
| `authored` | Created manually or via `core:skill-forge` | `eluma:github-pimper` |

## Tags

Tags are auto-detected based on which subdirectories exist in the skill:

| Tag | Detected When |
|-----|--------------|
| `scripts` | `scripts/` directory exists |
| `references` | `references/` directory exists |
| `assets` | `assets/` directory exists |
| `templates` | `templates/` directory exists |
| `actions` | `actions/` directory exists |

## Querying the Registry

```bash
# All skills for a brand
python3 -c "import json; d=json.load(open('registry.json')); print([s['name'] for s in d['skills'] if s['brand']=='eluma'])"

# All brands
python3 -c "import json; d=json.load(open('registry.json')); print(list(d['brands'].keys()))"

# Skill count
python3 -c "import json; d=json.load(open('registry.json')); print(len(d['skills']))"
```
