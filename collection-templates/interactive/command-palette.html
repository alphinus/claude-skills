<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>{{BRAND_NAME}} - Command Palette</title>
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  :root { --dark-bg: {{BG}}; --cyan: {{PRIMARY}}; --cyan-dark: {{PRIMARY_DARK}}; --cloud: {{TEXT}}; --muted: {{MUTED}}; }
  body { background: var(--dark-bg); font-family: system-ui, -apple-system, sans-serif; color: var(--cloud); min-height: 100vh; display: flex; flex-direction: column; align-items: center; justify-content: center; }

  h1 { font-size: 36px; font-weight: 200; margin-bottom: 12px; }
  h1 span { background: linear-gradient(135deg, var(--cyan), var(--cyan-dark)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
  .subtitle { color: var(--muted); font-size: 14px; margin-bottom: 24px; font-weight: 300; }

  .hint {
    display: inline-flex; align-items: center; gap: 6px;
    font-size: 13px; color: var(--muted); padding: 8px 16px;
    background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.06);
    border-radius: 8px;
  }
  kbd {
    padding: 2px 8px; border-radius: 4px; font-size: 12px;
    background: rgba(255,255,255,0.06); border: 1px solid rgba(255,255,255,0.1);
    font-family: 'SF Mono', Monaco, monospace; color: var(--cloud);
  }

  /* Overlay */
  .overlay {
    position: fixed; inset: 0; background: rgba(0,0,0,0.6); backdrop-filter: blur(8px);
    z-index: 1000; display: flex; align-items: flex-start; justify-content: center;
    padding-top: 15vh; opacity: 0; pointer-events: none; transition: opacity 0.2s;
  }
  .overlay.open { opacity: 1; pointer-events: auto; }

  /* Palette */
  .palette {
    width: 560px; max-width: 90vw; background: {{SURFACE}};
    border: 1px solid rgba(255,255,255,0.08); border-radius: 16px;
    box-shadow: 0 32px 80px rgba(0,0,0,0.5); overflow: hidden;
    transform: scale(0.95) translateY(-10px); transition: transform 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  }
  .overlay.open .palette { transform: scale(1) translateY(0); }

  /* Search */
  .palette-search {
    display: flex; align-items: center; padding: 0 20px;
    border-bottom: 1px solid rgba(255,255,255,0.06);
  }
  .search-icon { color: var(--cyan); font-size: 18px; margin-right: 12px; flex-shrink: 0; }
  .search-input {
    flex: 1; padding: 16px 0; background: transparent; border: none;
    color: var(--cloud); font-size: 15px; font-family: inherit; outline: none;
  }
  .search-input::placeholder { color: rgba(255,255,255,0.2); }
  .search-esc { font-size: 11px; color: var(--muted); }
  .search-esc kbd { font-size: 10px; }

  /* Results */
  .palette-results { max-height: 360px; overflow-y: auto; padding: 8px; }
  .palette-results::-webkit-scrollbar { width: 4px; }
  .palette-results::-webkit-scrollbar-track { background: transparent; }
  .palette-results::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.1); border-radius: 2px; }

  .result-group { margin-bottom: 8px; }
  .group-label { font-size: 10px; letter-spacing: 2px; color: var(--muted); padding: 8px 12px 4px; opacity: 0.6; }

  .result-item {
    display: flex; align-items: center; gap: 12px; padding: 10px 12px;
    border-radius: 8px; cursor: pointer; transition: all 0.15s;
  }
  .result-item:hover, .result-item.selected { background: rgba({{PRIMARY_RGB}},0.06); }
  .result-item.selected { border: 1px solid rgba({{PRIMARY_RGB}},0.15); }
  .result-item:not(.selected) { border: 1px solid transparent; }

  .result-icon {
    width: 32px; height: 32px; border-radius: 8px;
    background: rgba({{PRIMARY_RGB}},0.08); display: flex; align-items: center; justify-content: center;
    flex-shrink: 0;
  }
  .result-icon svg { width: 16px; height: 16px; stroke: var(--cyan); fill: none; stroke-width: 1.5; stroke-linecap: round; }

  .result-text { flex: 1; }
  .result-name { font-size: 14px; font-weight: 400; }
  .result-item.selected .result-name { color: var(--cyan); }
  .result-desc { font-size: 12px; color: var(--muted); font-weight: 300; }

  .result-shortcut { display: flex; gap: 3px; }
  .result-shortcut kbd { font-size: 10px; padding: 1px 6px; }

  /* Footer */
  .palette-footer {
    padding: 10px 16px; border-top: 1px solid rgba(255,255,255,0.04);
    display: flex; justify-content: space-between; align-items: center;
    font-size: 11px; color: var(--muted);
  }
  .footer-hints { display: flex; gap: 12px; }
  .footer-hint { display: flex; align-items: center; gap: 4px; }
</style>
</head>
<body>

<h1>Command <span>Palette</span></h1>
<p class="subtitle">Schnellzugriff auf alle Aktionen</p>
<div class="hint">Drücke <kbd>&#8984;</kbd> <kbd>K</kbd> zum Öffnen</div>

<div class="overlay" id="overlay">
  <div class="palette">
    <div class="palette-search">
      <span class="search-icon">&#9906;</span>
      <input class="search-input" id="searchInput" type="text" placeholder="Suche nach Aktionen, Seiten, Events..." autofocus>
      <span class="search-esc"><kbd>ESC</kbd></span>
    </div>

    <div class="palette-results" id="results">
      <div class="result-group">
        <div class="group-label">AKTIONEN</div>
        <div class="result-item selected" data-name="Neuer Event-Stream">
          <div class="result-icon"><svg viewBox="0 0 24 24"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg></div>
          <div class="result-text"><div class="result-name">Neuer Event-Stream</div><div class="result-desc">Einen neuen Stream erstellen</div></div>
          <div class="result-shortcut"><kbd>&#8984;</kbd><kbd>N</kbd></div>
        </div>
        <div class="result-item" data-name="Event suchen">
          <div class="result-icon"><svg viewBox="0 0 24 24"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg></div>
          <div class="result-text"><div class="result-name">Event suchen</div><div class="result-desc">Nach Events filtern und durchsuchen</div></div>
          <div class="result-shortcut"><kbd>&#8984;</kbd><kbd>F</kbd></div>
        </div>
        <div class="result-item" data-name="Team einladen">
          <div class="result-icon"><svg viewBox="0 0 24 24"><path d="M16 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2"/><circle cx="8.5" cy="7" r="4"/><line x1="20" y1="8" x2="20" y2="14"/><line x1="23" y1="11" x2="17" y2="11"/></svg></div>
          <div class="result-text"><div class="result-name">Team einladen</div><div class="result-desc">Neue Mitglieder zum Workspace hinzufügen</div></div>
        </div>
      </div>

      <div class="result-group">
        <div class="group-label">NAVIGATION</div>
        <div class="result-item" data-name="Dashboard">
          <div class="result-icon"><svg viewBox="0 0 24 24"><rect x="3" y="3" width="7" height="7"/><rect x="14" y="3" width="7" height="7"/><rect x="14" y="14" width="7" height="7"/><rect x="3" y="14" width="7" height="7"/></svg></div>
          <div class="result-text"><div class="result-name">Dashboard</div><div class="result-desc">Übersicht und Statistiken</div></div>
          <div class="result-shortcut"><kbd>G</kbd><kbd>D</kbd></div>
        </div>
        <div class="result-item" data-name="Events">
          <div class="result-icon"><svg viewBox="0 0 24 24"><path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"/></svg></div>
          <div class="result-text"><div class="result-name">Events</div><div class="result-desc">Event-Liste und Streams</div></div>
          <div class="result-shortcut"><kbd>G</kbd><kbd>E</kbd></div>
        </div>
        <div class="result-item" data-name="Settings">
          <div class="result-icon"><svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 00.33 1.82l.06.06a2 2 0 010 2.83 2 2 0 01-2.83 0l-.06-.06a1.65 1.65 0 00-1.82-.33"/></svg></div>
          <div class="result-text"><div class="result-name">Einstellungen</div><div class="result-desc">Workspace und Account Settings</div></div>
          <div class="result-shortcut"><kbd>G</kbd><kbd>S</kbd></div>
        </div>
      </div>

      <div class="result-group">
        <div class="group-label">LETZTE EVENTS</div>
        <div class="result-item" data-name="user.created">
          <div class="result-icon" style="background:rgba({{SUCCESS_RGB}},0.08);"><svg viewBox="0 0 24 24" style="stroke:{{SUCCESS}};"><path d="M22 11.08V12a10 10 0 11-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg></div>
          <div class="result-text"><div class="result-name" style="font-family:'SF Mono',monospace;font-size:13px;">user.created</div><div class="result-desc">vor 2 Minuten &middot; user-stream</div></div>
        </div>
        <div class="result-item" data-name="payment.success">
          <div class="result-icon" style="background:rgba({{SUCCESS_RGB}},0.08);"><svg viewBox="0 0 24 24" style="stroke:{{SUCCESS}};"><path d="M22 11.08V12a10 10 0 11-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg></div>
          <div class="result-text"><div class="result-name" style="font-family:'SF Mono',monospace;font-size:13px;">payment.success</div><div class="result-desc">vor 8 Minuten &middot; billing-stream</div></div>
        </div>
      </div>
    </div>

    <div class="palette-footer">
      <div class="footer-hints">
        <span class="footer-hint"><kbd>&uarr;</kbd><kbd>&darr;</kbd> Navigieren</span>
        <span class="footer-hint"><kbd>&crarr;</kbd> Auswählen</span>
        <span class="footer-hint"><kbd>ESC</kbd> Schliessen</span>
      </div>
      <span>{{BRAND_NAME}} Command Palette</span>
    </div>
  </div>
</div>

<script>
  const overlay = document.getElementById('overlay');
  const input = document.getElementById('searchInput');

  function toggle() { overlay.classList.toggle('open'); if (overlay.classList.contains('open')) input.focus(); }

  document.addEventListener('keydown', e => {
    if ((e.metaKey || e.ctrlKey) && e.key === 'k') { e.preventDefault(); toggle(); }
    if (e.key === 'Escape') overlay.classList.remove('open');
  });

  overlay.addEventListener('click', e => { if (e.target === overlay) overlay.classList.remove('open'); });

  // Search filter
  input.addEventListener('input', () => {
    const q = input.value.toLowerCase();
    document.querySelectorAll('.result-item').forEach(item => {
      const name = item.dataset.name.toLowerCase();
      item.style.display = name.includes(q) ? 'flex' : 'none';
    });
    document.querySelectorAll('.result-group').forEach(g => {
      const visible = g.querySelectorAll('.result-item[style*="flex"], .result-item:not([style])');
      g.style.display = visible.length ? 'block' : 'none';
    });
  });

  // Keyboard navigation
  let selectedIdx = 0;
  function updateSelection() {
    const items = [...document.querySelectorAll('.result-item:not([style*="none"])')];
    items.forEach((item, i) => item.classList.toggle('selected', i === selectedIdx));
  }
  document.addEventListener('keydown', e => {
    if (!overlay.classList.contains('open')) return;
    const items = [...document.querySelectorAll('.result-item:not([style*="none"])')];
    if (e.key === 'ArrowDown') { e.preventDefault(); selectedIdx = (selectedIdx + 1) % items.length; updateSelection(); }
    if (e.key === 'ArrowUp') { e.preventDefault(); selectedIdx = (selectedIdx - 1 + items.length) % items.length; updateSelection(); }
  });

  // Auto-open for demo
  setTimeout(toggle, 800);
</script>

</body>
</html>